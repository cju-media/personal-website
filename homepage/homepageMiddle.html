<div class="hp-mid-wrapper">
    <style>
        /* Base Section Layout */
        .hp-mid-wrapper section {
            display: block;
            text-align: center;
            width: 100%;
            margin: 0 auto;
        }

        /* Solid Black Dividers - Matches container width */
        .hp-mid-wrapper hr.section-divider {
            border: 0;
            height: 1px;
            background: #000000; 
            width: 100%;
            max-width: 2000px;
            margin: 40px auto;
            opacity: 1;
        }

        /* Spacing Div */
        .hp-mid-wrapper .extra-spacer {
            height: 60px;
            width: 100%;
        }

        /* --- CONTAINERS --- */
        .hp-mid-wrapper .image-container, 
        .hp-mid-wrapper .video-container {
            overflow: hidden; /* Clips the blurry edges */
            position: relative;
            width: 100%;
            height: 300px;
            border-radius: 10px;
            background: #000; 
            margin: 0 auto;
            display: flex;
            justify-content: center;
            align-items: center;
            text-decoration: none;
            /* Inset shadow helps mask any remaining edge bleed */
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5); 
        }

        @media screen and (max-width: 768px) {
            .hp-mid-wrapper .image-container, 
            .hp-mid-wrapper .video-container { height: 220px; }
        }

        /* --- ASSETS (Image/Video) --- */
        .hp-mid-wrapper .cropped-image, 
        .hp-mid-wrapper .cropped-video {
            position: absolute;
            top: 50%;
            left: 50%;
            /* scale(1.1) pushes the "nasty" blurry edges outside the container clip */
            transform: translate(-50%, -50%) scale(1.1); 
            object-fit: cover;
            width: 100.5%; /* Slight extra width to prevent sub-pixel gaps */
            height: 100.5%;
            display: block;
            
            /* Initial State: Blurred */
            filter: blur(6px); 
            transition: transform 0.8s cubic-bezier(0.25, 1, 0.5, 1), 
                        filter 0.8s ease;
        }

        /* --- HOVER INTERACTIONS --- */
        .hp-mid-wrapper .image-container:hover .cropped-image,
        .hp-mid-wrapper .video-container:hover .cropped-video {
            /* Focus scale: zooms slightly in or stabilizes depending on preference */
            transform: translate(-50%, -50%) scale(1.05);
            filter: blur(0px); 
        }

        .hp-mid-wrapper .image-container:hover .text-overlay,
        .hp-mid-wrapper .video-container:hover .text-overlay1 {
            background: rgba(255, 255, 255, 0.95);
            color: #000;
            transform: scale(1.05);
        }

        /* --- SLIDE-IN ANIMATION --- */
        .hp-mid-wrapper .hidden-slide {
            opacity: 0;
            filter: blur(10px);
            transform: translateX(-60px); 
            transition: all 1.2s cubic-bezier(0.25, 1, 0.5, 1);
            will-change: transform, opacity;
        }

        .hp-mid-wrapper .show-slide {
            opacity: 1 !important;
            filter: blur(0px);
            transform: translateX(0px);
        }

        /* Mobile specific: Remove blur automatically when visible */
        @media (max-width: 768px) {
            .hp-mid-wrapper .show-slide .cropped-image,
            .hp-mid-wrapper .show-slide .cropped-video {
                filter: blur(0px);
                transform: translate(-50%, -50%) scale(1);
            }
        }

        /* --- TEXT OVERLAYS --- */
        .hp-mid-wrapper .text-wrapper {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            width: 100%;
            pointer-events: none;
        }

        .hp-mid-wrapper .text-overlay, .hp-mid-wrapper .text-overlay1 {
            padding: 12px 24px;
            border-radius: 10px;
            backdrop-filter: blur(8px);
            display: inline-block;
            letter-spacing: 2px;
            font-weight: bold;
            text-transform: uppercase;
            transition: all 0.4s ease;
        }
        .hp-mid-wrapper .text-overlay { background: rgba(255,255,255,0.7); color: black; }
        .hp-mid-wrapper .text-overlay1 { background: rgba(0,0,0,0.6); color: white; }
    </style>

    <section class="hidden-slide">
        <a href="https://www.cameronjohnston.xyz/highlights/music" class="image-container">
            <img id='mid-composer' class='cropped-image'>
            <div class="text-wrapper"><h2 class="text-overlay">COMPOSER</h2></div>
        </a>
    </section>

    <hr class="section-divider hidden-slide">

    <section class="hidden-slide">
        <a href="https://www.cameronjohnston.xyz/media/avengineering" class="image-container">
            <img id='mid-av' class='cropped-image'>
            <div class="text-wrapper"><h2 class="text-overlay1">AUDIO/VIDEO ENGINEER</h2></div>
        </a>
    </section>

    <hr class="section-divider hidden-slide">

    <section class="hidden-slide">
        <a href="https://www.cameronjohnston.xyz/highlights/videoart" class="video-container">
            <video playsinline autoplay muted id='mid-video' class='cropped-video'></video>
            <div class="text-wrapper"><h2 class="text-overlay1">VIDEO ARTIST</h2></div>
        </a>
    </section>

    <div class="extra-spacer"></div>
    <hr class="section-divider hidden-slide">

    <section class="hidden-slide">
        <a href="https://www.cameronjohnston.xyz/director/laptop-ensemble" class="video-container">
            <video playsinline autoplay muted id='mid-laptop' class='cropped-video'></video>
            <div class="text-wrapper"><h2 class="text-overlay1">LAPTOP PERFORMER</h2></div>
        </a>
    </section>

    <script>
        (function() {
            const perfVids = ["https://www.cameronjohnston.xyz/s/performer1.mov", "https://www.cameronjohnston.xyz/s/performer2.mov", "https://www.cameronjohnston.xyz/s/performer3.mov", "https://www.cameronjohnston.xyz/s/performer4.mov", "https://www.cameronjohnston.xyz/s/performer5.mov"];
            const artVids = ["https://www.cameronjohnston.xyz/s/yt5sio-args-piece-for-processed-algorthmic-piano-and-video-1080p.mp4", "https://www.cameronjohnston.xyz/s/Screen-Recording-2023-01-26-at-11152-PM-HD-1080p-H264-Proxy-half-size.mov", "https://www.cameronjohnston.xyz/s/Screen-Recording-2023-01-30-at-13338-PM.mov"];
            const avPics = ['https://images.squarespace-cdn.com/content/5a6fccf8d74cff4818ad90a2/b2eed1d5-c15c-4e2d-9001-4a047b76e57e/IMG_2197.jpg?content-type=image%2Fjpeg', 'https://images.squarespace-cdn.com/content/5a6fccf8d74cff4818ad90a2/6896b182-d731-4893-8676-9a12495868bd/IMG_0660.jpg?content-type=image%2Fjpeg'];
            const compPics = ['https://static1.squarespace.com/static/5a6fccf8d74cff4818ad90a2/t/63e182f98cf4a24371792881/1675723513560/composer1.png', 'https://static1.squarespace.com/static/5a6fccf8d74cff4818ad90a2/t/63e182ff0d578b703b2ed5da/1675723519731/composer2.png'];

            function swapVideo() {
                const v = document.getElementById("mid-video");
                if (v) { v.src = artVids[Math.floor(Math.random() * artVids.length)]; v.load(); v.play().catch(()=>{}); }
            }

            function swapLaptop() {
                const l = document.getElementById("mid-laptop");
                if (l) { l.src = perfVids[Math.floor(Math.random() * perfVids.length)]; l.load(); l.play().catch(()=>{}); }
            }

            function initEverything() {
                const av = document.getElementById("mid-av");
                const co = document.getElementById("mid-composer");
                if(av) av.src = avPics[Math.floor(Math.random() * avPics.length)];
                if(co) co.src = compPics[Math.floor(Math.random() * compPics.length)];

                const v = document.getElementById("mid-video");
                const l = document.getElementById("mid-laptop");
                if(v) v.onended = swapVideo;
                if(l) l.onended = swapLaptop;

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('show-slide');
                        }
                    });
                }, { threshold: 0.05 });

                document.querySelectorAll('.hp-mid-wrapper .hidden-slide').forEach(el => observer.observe(el));

                swapVideo();
                swapLaptop();
            }

            const checkLoad = setInterval(() => {
                if (document.getElementById('mid-composer')) {
                    initEverything();
                    clearInterval(checkLoad);
                }
            }, 100);
            setTimeout(() => clearInterval(checkLoad), 5000);
        })();
    </script>
</div>